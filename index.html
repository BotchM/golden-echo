<!doctype html>
<html>
  <head>
    <title>~ Let's all go to Carolina ~</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <link type="text/css" rel="stylesheet" href="./styles/main.css">
  </head>
  <body style="position: absolute; overflow: hidden; width: 100%; height: 100%; top: 0; left: 0;">
    <div id="content"></div>
    <div class="loader">
      <div class="gmb-loader">
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
    <div class="scripts" style="display: none;">

      <script src="./third-party/jquery.js"></script>
      <script src="./third-party/tween.js"></script>
      <script src="./third-party/three.js"></script>
      <script src="./third-party/two.js"></script>
      <script src="./third-party/sound.js"></script>
      <script src="./third-party/noise.js"></script>
      <script src="./third-party/xhr.js"></script>
      <script src="./third-party/url.js"></script>

      <script src="./src/pool.js"></script>
      <script src="./src/path.js"></script>
      <script src="./src/item.js"></script>
      <script src="./src/items/prog.js"></script>
      <script src="./src/items/kick.js"></script>
      <script src="./src/items/perc.js"></script>
      <script src="./src/items/timpani.js"></script>
      <script src="./src/items/bass.js"></script>
      <script src="./src/items/hook.js"></script>
      <script src="./src/items/guitar.js"></script>
      <script src="./src/items/mellotron.js"></script>
      <script src="./src/items/vanguard.js"></script>
      <script src="./src/carolina.js"></script>
      <script>

        Carolina.init(function() {

          $('.loader').fadeOut(function() {

            // Add a button here to start things off.
            var startButton = $('<button />')
              .css({
                display: 'none'
              })
              // .html('Play')
              .appendTo(document.body);

            fadeIn();

            Carolina.audio.bind('ended', function() {
              fadeIn();
            });

            startButton.bind('click', function() {

              startButton.fadeOut();

              Carolina.reset({
                elapsed: url.number('startTime', 0)
              });

            });

            function fadeIn() {
              startButton.fadeIn();
              
            }

          });

        });

      </script>

    </div>
  </body>
</html>